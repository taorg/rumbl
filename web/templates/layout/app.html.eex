<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="<%= static_path(@conn, "/js/app.js") %>"></script>
    <%= Drab.Client.js(@conn) %>
    <script src="<%= static_path(@conn, "/js/material-datetime-picker.js")%>" charset="utf-8"></script>

    <title>Hello Rumbl!</title>
    <link rel="stylesheet" href="<%= static_path(@conn, "/css/app.css") %>">

  </head>

  <body>
      <header class="header">
      <ul id="dropdown1" class="dropdown-content">
            <li><a href="/users">List users</a></li>
            <li><a href="/users/new">New user</a></li>
            <li><a href="/images">Images</a></li>
            <li><a href="/images/new">Upload Images</a></li>
      </ul>
        <nav>
          <div class="nav-wrapper">
            <a href="/" class="right brand-logo">Test</a>
            <ul >
              <li><a href="/">Get Started</a></li>
              <!-- Dropdown Trigger -->
              <li><a class="dropdown-button" href="#!" data-activates="dropdown1">Dropdown<i class="material-icons right">arrow_drop_down</i></a></li>
            </ul>
          </div>
        </nav>

      </header>

      <main role="main">
        <%= render @view_module, @view_template, assigns %>
      </main>

<script>
$(document).ready(function(){
    $('select').material_select();
    $("#time_dropper").timeDropper({});
    $('#dateranger').dateRangePicker({
      shortcuts: {
        'next-days': [3, 5, 7],
        'next': ['week', 'month', 'year']
        }
      });

    $("#datetimeranger").dateTimeRanger({});

    $('#from_date').datepicker({
      //timepicker: true,
      language: 'en',
      //minDate: new Date() // Now can select only dates, which goes after today
    })
    $('#from_time').timepicker({ 'step': 1 });
    //
    $('#date-end').bootstrapMaterialDatePicker({ format : 'dddd DD MMMM YYYY - HH:mm',time: true });
    $('#date-start').bootstrapMaterialDatePicker({ format : 'dddd DD MMMM YYYY - HH:mm',time: true });
    flatpickr("#to_date1", {
      plugins: [new confirmClearDatePlugin({})],
      enableTime: true,
      //weekNumbers: true,
      altInput: true,
      altFormat: "F j, Y h:i K"
    });
    flatpickr(".flatpickr", {
      weekNumbers: true,
      enableTime: true,
	    wrap: true,
	    clickOpens: false // disable opening calendar by clicking on input
    });
    $("#to_date").prop('readonly', false);


    $('#tag_chips_id').material_chip({
        data: [{
          tag: 'Apple',
          id: 1,
          image: 'https://storage.googleapis.com/material-icons/external-assets/v4/icons/svg/ic_vpn_key_black_24px.svg'
          }, {
          tag: 'Microsoft',
          id: 2,
          image: 'https://storage.googleapis.com/material-icons/external-assets/v4/icons/svg/ic_chat_black_24px.svg'
          }, {
          tag: 'Google',
          id: 3,
          image: 'https://storage.googleapis.com/material-icons/external-assets/v4/icons/svg/ic_replay_black_24px.svg'
        }],
      autocompleteData: {
        'Alameda': null,
        'Marinela': null,
        'García': null,
        'Alhama de Murcia': null,
        'Villa conejos de arriba': null,
        'Santa cecilia': null,
        'Animales nocturnos': null,
        'Rouge One a star wars': null,
        'Mad max y la cúpula del trueno': null,
        'Los infiernos': null,
        'Caravaca de la cruz': null,
        'Santiago de compostela': null
      }
    });
  $('.slider').slider();
  $('.carousel').carousel();

  $('.dropify').dropify();

const input = document.querySelector('.c-datepicker-input');
const picker = new MaterialDatetimePicker({})
    .on('submit', function (val) {
      input.value = val.format("dddd DD MMMM YYYY - HH:mm");
    });

input.addEventListener('focus', function onFocus (){picker.open()});

  $('#fuse-autocomplete-input').fuseautocomplete({          
          data:[{title:"Old Man's War",author:{img:"/images/processing.gif",firstName:"John",lastName:"Scalzi"}},{title:"The Lock Artist",author:{img:"/images/processing.gif",firstName:"Steve",lastName:"Hamilton"}},{title:"HTML5",author:{img:"/images/processing.gif",firstName:"Remy",lastName:"Sharp"}},{title:"Right Ho Jeeves",author:{img:"/images/processing.gif",firstName:"P.D",lastName:"Woodhouse"}},{title:"The Code of the Wooster",author:{img:"/images/processing.gif",firstName:"P.D",lastName:"Woodhouse"}},{title:"Thank You Jeeves",author:{img:"/images/processing.gif",firstName:"P.D",lastName:"Woodhouse"}},{title:"The DaVinci Code",author:{img:"/images/processing.gif",firstName:"Dan",lastName:"Brown"}},{title:"Angels & Demons",author:{img:"/images/processing.gif",firstName:"Dan",lastName:"Brown"}},{title:"The Silmarillion",author:{img:"/images/processing.gif",firstName:"J.R.R",lastName:"Tolkien"}},{title:"Syrup",author:{img:"/images/processing.gif",firstName:"Max",lastName:"Barry"}},{title:"The Lost Symbol",author:{img:"/images/processing.gif",firstName:"Dan",lastName:"Brown"}},{title:"The Book of Lies",author:{img:"/images/processing.gif",firstName:"Brad",lastName:"Meltzer"}},{title:"Lamb",author:{img:"/images/processing.gif",firstName:"Christopher",lastName:"Moore"}},{title:"Fool",author:{img:"/images/processing.gif",firstName:"Christopher",lastName:"Moore"}},{title:"Incompetence",author:{img:"/images/processing.gif",firstName:"Rob",lastName:"Grant"}},{title:"Fat",author:{img:"/images/processing.gif",firstName:"Rob",lastName:"Grant"}},{title:"Colony",author:{img:"/images/processing.gif",firstName:"Rob",lastName:"Grant"}},{title:"Backwards, Red Dwarf",author:{img:"/images/processing.gif",firstName:"Rob",lastName:"Grant"}},{title:"The Grand Design",author:{img:"/images/processing.gif",firstName:"Stephen",lastName:"Hawking"}},{title:"The Book of Samson",author:{img:"/images/processing.gif",firstName:"David",lastName:"Maine"}},{title:"The Preservationist",author:{img:"/images/processing.gif",firstName:"David",lastName:"Maine"}},{title:"Fallen",author:{img:"/images/processing.gif",firstName:"David",lastName:"Maine"}},{title:"Monster 1959",author:{img:"/images/processing.gif",firstName:"David",lastName:"Maine"}}],
          fuseOptions: {
              //id: "title",
              shouldSort: !0,
              threshold: .6,
              location: 0,
              distance: 100,
              maxPatternLength: 32,
              minMatchCharLength: 1,
              keys: [ "title", "firstName" ]
            },   
          dataIdentifierFn: function (fdata_key) {
          var id =  fdata_key.author.lastName; 
          return id;         
          },         
          renderItemFn: function (fdata_key) {
          var image = '<img src="'+ fdata_key.author.img +'" class="right circle"><span>'+ fdata_key.title +'</span>'            
          return image;         
          }
  });



//END DOCUMENT READY
});
    </script>
  </body>
</html>
